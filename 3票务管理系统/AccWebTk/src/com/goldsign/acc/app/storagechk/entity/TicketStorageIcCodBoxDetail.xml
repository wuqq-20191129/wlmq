<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.goldsign.acc.app.storagechk.mapper.TicketStorageIcCodBoxDetailMapper" >
  <resultMap id="BaseResultMap" type="com.goldsign.acc.app.storagechk.entity.TicketStorageIcCodBoxDetailKey" >
    <constructor >
      <idArg column="BOX_ID" jdbcType="CHAR" javaType="java.lang.String" />
      <idArg column="START_LOGICAL_ID" jdbcType="CHAR" javaType="java.lang.String" />
      <idArg column="END_LOGICAL_ID" jdbcType="CHAR" javaType="java.lang.String" />
    </constructor>
  </resultMap>
   <select id="selectByPrimaryKey" parameterType="com.goldsign.acc.app.storagechk.entity.TicketStorageIcCodBoxDetailKey" resultMap="BaseResultMap">
      select 
      *
      from W_ACC_TK.W_IC_COD_BOX_DETAIL  
      <trim prefix="where (" suffix=")" suffixOverrides=" and ">
          <if test="boxId != null">
              BOX_ID = #{boxId,jdbcType=CHAR} and
          </if>
          <if test="startLogicalId != null">
              START_LOGICAL_ID <![CDATA[<=]]> #{startLogicalId,jdbcType=CHAR} and
          </if>
           <if test="endLogicalId != null">
              END_LOGICAL_ID <![CDATA[>=]]> #{endLogicalId,jdbcType=CHAR} and
          </if>
      </trim>
  </select>
   <select id="count" parameterType="com.goldsign.acc.app.storagechk.entity.TicketStorageIcCodBoxDetailKey" resultType="int">
       select count(*)  from W_ACC_TK.ic_cod_box_detail 
                where box_id= #{boxId,jdbcType=CHAR} 
                and  ((rtrim(start_logical_id)<![CDATA[>=]]> #{startLogicalId,jdbcType=CHAR}
                and rtrim(start_logical_id)<![CDATA[<=]]> #{endLogicalId,jdbcType=CHAR}) 
                or (rtrim(start_logical_id)<![CDATA[<=]]> #{startLogicalId,jdbcType=CHAR} 
                and rtrim(end_logical_id)<![CDATA[>=]]> #{endLogicalId,jdbcType=CHAR}) 
                or (rtrim(end_logical_id)<![CDATA[>=]]> #{startLogicalId,jdbcType=CHAR}
                 and rtrim(end_logical_id)<![CDATA[<=]]> #{endLogicalId,jdbcType=CHAR}) )
   </select>
 
  
  <delete id="deleteByPrimaryKey" parameterType="com.goldsign.acc.app.storagechk.entity.TicketStorageIcCodBoxDetailKey" >
    delete from W_IC_COD_BOX_DETAIL
    where BOX_ID = #{boxId,jdbcType=CHAR}
      and START_LOGICAL_ID = #{startLogicalId,jdbcType=CHAR}
      and END_LOGICAL_ID = #{endLogicalId,jdbcType=CHAR}
  </delete>
  <insert id="insert" parameterType="com.goldsign.acc.app.storagechk.entity.TicketStorageIcCodBoxDetailKey" >
    insert into W_IC_COD_BOX_DETAIL (BOX_ID, START_LOGICAL_ID, END_LOGICAL_ID
      )
    values (#{boxId,jdbcType=CHAR}, #{startLogicalId,jdbcType=CHAR}, #{endLogicalId,jdbcType=CHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.goldsign.acc.app.storagechk.entity.TicketStorageIcCodBoxDetailKey" >
    insert into W_IC_COD_BOX_DETAIL
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="boxId != null" >
        BOX_ID,
      </if>
      <if test="startLogicalId != null" >
        START_LOGICAL_ID,
      </if>
      <if test="endLogicalId != null" >
        END_LOGICAL_ID,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="boxId != null" >
        #{boxId,jdbcType=CHAR},
      </if>
      <if test="startLogicalId != null" >
        #{startLogicalId,jdbcType=CHAR},
      </if>
      <if test="endLogicalId != null" >
        #{endLogicalId,jdbcType=CHAR},
      </if>
    </trim>
  </insert>
</mapper>