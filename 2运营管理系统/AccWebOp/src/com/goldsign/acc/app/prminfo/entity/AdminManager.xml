<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.goldsign.acc.app.prminfo.mapper.AdminManagerMapper">
  <resultMap id="BaseResultMap" type="com.goldsign.acc.app.prminfo.entity.AdminManager">
    <constructor>
      <idArg column="ADMIN_MANAGER_ID" javaType="java.lang.String" jdbcType="CHAR" />
      <idArg column="RECORD_FLAG" javaType="java.lang.String" jdbcType="CHAR" />
      <idArg column="VERSION_NO" javaType="java.lang.String" jdbcType="CHAR" />
      <idArg column="STATION_ID" javaType="java.lang.String" jdbcType="CHAR" />
      <idArg column="CARD_SUB_ID" javaType="java.lang.String" jdbcType="CHAR" />
      <idArg column="LINE_ID" javaType="java.lang.String" jdbcType="CHAR" />
      <idArg column="CARD_MAIN_ID" javaType="java.lang.String" jdbcType="CHAR" />
      <arg column="ADMIN_CHARGE" javaType="java.lang.String" jdbcType="VARCHAR" />
    </constructor>
  </resultMap>
  <sql id="Base_Column_List">
    ADMIN_MANAGER_ID, RECORD_FLAG, VERSION_NO, STATION_ID, CARD_SUB_ID, LINE_ID, CARD_MAIN_ID, ADMIN_CHARGE
  </sql>
  <select id="selectByPrimaryKey" parameterType="com.goldsign.acc.app.prminfo.entity.AdminManager" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from w_acc_st.W_OP_PRM_ADMIN_MANAGER_TYPE
    where ADMIN_MANAGER_ID = #{adminManagerId,jdbcType=CHAR}
      and RECORD_FLAG = #{recordFlag,jdbcType=CHAR}
      and VERSION_NO = #{versionNo,jdbcType=CHAR}
      and STATION_ID = #{stationId,jdbcType=CHAR}
      and CARD_SUB_ID = #{cardSubId,jdbcType=CHAR}
      and LINE_ID = #{lineId,jdbcType=CHAR}
      and CARD_MAIN_ID = #{cardMainId,jdbcType=CHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="com.goldsign.acc.app.prminfo.entity.AdminManager">
    delete from w_acc_st.W_OP_PRM_ADMIN_MANAGER_TYPE
    where ADMIN_MANAGER_ID = #{adminManagerId,jdbcType=CHAR}
      and RECORD_FLAG = #{recordFlag,jdbcType=CHAR}
      and VERSION_NO = #{versionNo,jdbcType=CHAR}
      and STATION_ID = #{stationId,jdbcType=CHAR}
      and CARD_SUB_ID = #{cardSubId,jdbcType=CHAR}
      and LINE_ID = #{lineId,jdbcType=CHAR}
      and CARD_MAIN_ID = #{cardMainId,jdbcType=CHAR}
  </delete>
  <insert id="insert" parameterType="com.goldsign.acc.app.prminfo.entity.AdminManager">
    insert into w_acc_st.W_OP_PRM_ADMIN_MANAGER_TYPE (ADMIN_MANAGER_ID, RECORD_FLAG, VERSION_NO, 
      STATION_ID, CARD_SUB_ID, LINE_ID, 
      CARD_MAIN_ID, ADMIN_CHARGE)
    values (#{adminManagerId,jdbcType=CHAR}, #{recordFlag,jdbcType=CHAR}, #{versionNo,jdbcType=CHAR}, 
      #{stationId,jdbcType=CHAR}, #{cardSubId,jdbcType=CHAR}, #{lineId,jdbcType=CHAR}, 
      #{cardMainId,jdbcType=CHAR}, #{adminCharge,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.goldsign.acc.app.prminfo.entity.AdminManager">
    insert into w_acc_st.W_OP_PRM_ADMIN_MANAGER_TYPE
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="adminManagerId != null">
        ADMIN_MANAGER_ID,
      </if>
      <if test="recordFlag != null">
        RECORD_FLAG,
      </if>
      <if test="versionNo != null">
        VERSION_NO,
      </if>
      <if test="stationId != null">
        STATION_ID,
      </if>
      <if test="cardSubId != null">
        CARD_SUB_ID,
      </if>
      <if test="lineId != null">
        LINE_ID,
      </if>
      <if test="cardMainId != null">
        CARD_MAIN_ID,
      </if>
      <if test="adminCharge != null">
        ADMIN_CHARGE,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="adminManagerId != null">
        #{adminManagerId,jdbcType=CHAR},
      </if>
      <if test="recordFlag != null">
        #{recordFlag,jdbcType=CHAR},
      </if>
      <if test="versionNo != null">
        #{versionNo,jdbcType=CHAR},
      </if>
      <if test="stationId != null">
        #{stationId,jdbcType=CHAR},
      </if>
      <if test="cardSubId != null">
        #{cardSubId,jdbcType=CHAR},
      </if>
      <if test="lineId != null">
        #{lineId,jdbcType=CHAR},
      </if>
      <if test="cardMainId != null">
        #{cardMainId,jdbcType=CHAR},
      </if>
      <if test="adminCharge != null">
        #{adminCharge,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.goldsign.acc.app.prminfo.entity.AdminManager">
    update w_acc_st.W_OP_PRM_ADMIN_MANAGER_TYPE
    <set>
      <if test="adminCharge != null">
        ADMIN_CHARGE = #{adminCharge,jdbcType=VARCHAR},
      </if>
    </set>
    where ADMIN_MANAGER_ID = #{adminManagerId,jdbcType=CHAR}
      and RECORD_FLAG = #{recordFlag,jdbcType=CHAR}
      and VERSION_NO = #{versionNo,jdbcType=CHAR}
      and STATION_ID = #{stationId,jdbcType=CHAR}
      and CARD_SUB_ID = #{cardSubId,jdbcType=CHAR}
      and LINE_ID = #{lineId,jdbcType=CHAR}
      and CARD_MAIN_ID = #{cardMainId,jdbcType=CHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.goldsign.acc.app.prminfo.entity.AdminManager">
    update w_acc_st.W_OP_PRM_ADMIN_MANAGER_TYPE
    set ADMIN_CHARGE = #{adminCharge,jdbcType=VARCHAR}
    where ADMIN_MANAGER_ID = #{adminManagerId,jdbcType=CHAR}
      and RECORD_FLAG = #{recordFlag,jdbcType=CHAR}
      and VERSION_NO = #{versionNo,jdbcType=CHAR}
      and STATION_ID = #{stationId,jdbcType=CHAR}
      and CARD_SUB_ID = #{cardSubId,jdbcType=CHAR}
      and LINE_ID = #{lineId,jdbcType=CHAR}
      and CARD_MAIN_ID = #{cardMainId,jdbcType=CHAR}
  </update>
  
  <select id="selectAdminManagers" parameterType="com.goldsign.acc.app.prminfo.entity.AdminManager" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from w_acc_st.W_OP_PRM_ADMIN_MANAGER_TYPE
    where 1=1
    <if test="adminManagerId !=null and adminManagerId !=''">
    and ADMIN_MANAGER_ID = #{adminManagerId,jdbcType=CHAR}
    </if>
    <if test="recordFlag !=null and recordFlag !=''">
    and RECORD_FLAG = #{recordFlag,jdbcType=CHAR}
    </if>
    <if test="versionNo !=null and versionNo !=''">
    and VERSION_NO = #{versionNo,jdbcType=CHAR}
    </if>
    <if test="stationId !=null and stationId !=''">
    and STATION_ID = #{stationId,jdbcType=CHAR}
    </if>
    <if test="cardSubId !=null and cardSubId !=''">
    and CARD_SUB_ID = #{cardSubId,jdbcType=CHAR}
    </if>
    <if test="lineId !=null and lineId !=''"> 
    and LINE_ID = #{lineId,jdbcType=CHAR}
    </if>
    <if test="cardMainId !=null and cardMainId !=''">
    and CARD_MAIN_ID = #{cardMainId,jdbcType=CHAR}
    </if>
    <if test="adminCharge !=null and adminCharge !=''">
    and ADMIN_CHARGE = #{adminCharge,jdbcType=CHAR}
    </if>
  </select>
  <!--当前参数、未来参数作历史标识或删除标识 -->
  <update id="submitToOldFlag" parameterType="PrmVersion" >
      update w_acc_st.W_OP_PRM_ADMIN_MANAGER_TYPE set record_flag=#{record_flag_old}
      where record_flag=#{record_flag_new}                                               
  </update>
  <!--草稿参数复制为当前或未来参数 -->
  <insert id="submitFromDraftToCurOrFur" parameterType="PrmVersion" >
      insert into w_acc_st.W_OP_PRM_ADMIN_MANAGER_TYPE(ADMIN_MANAGER_ID, RECORD_FLAG, VERSION_NO, STATION_ID, CARD_SUB_ID, LINE_ID, CARD_MAIN_ID, ADMIN_CHARGE)
      select ADMIN_MANAGER_ID, #{record_flag_new}, #{version_no_new}, STATION_ID, CARD_SUB_ID, LINE_ID, CARD_MAIN_ID, ADMIN_CHARGE
      from w_acc_st.W_OP_PRM_ADMIN_MANAGER_TYPE
      where record_flag=#{record_flag} and version_no=#{version_no}                                   
  </insert>
  <!--草稿参数删除 -->
  <delete id="deleteDeviceTypesForClone" parameterType="PrmVersion">
      delete from w_acc_st.W_OP_PRM_ADMIN_MANAGER_TYPE where record_flag='3' and version_no='0000000000'                                                      
  </delete>
  <!--当前参数或未来参数克隆为草稿参数 -->
  <insert id="cloneFromCurOrFurToDraft" parameterType="PrmVersion" >
      insert into w_acc_st.W_OP_PRM_ADMIN_MANAGER_TYPE(ADMIN_MANAGER_ID, RECORD_FLAG, VERSION_NO, STATION_ID, CARD_SUB_ID, LINE_ID, CARD_MAIN_ID, ADMIN_CHARGE)
      select ADMIN_MANAGER_ID, '3', '0000000000', STATION_ID, CARD_SUB_ID, LINE_ID, CARD_MAIN_ID, ADMIN_CHARGE
      from w_acc_st.W_OP_PRM_ADMIN_MANAGER_TYPE
      where record_flag=#{record_flag} and version_no=#{version_no}
  </insert>
</mapper>