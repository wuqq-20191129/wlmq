<?xml version="1.0" encoding="UTF-8"?>

<Config>
	<Common>
		<!--windows config <BackUpLog>F:/acc/commu/log</BackUpLog> <FtpLocalDir>F:/acc/ftp/receive</FtpLocalDir> 
			<ParmDstrbPath>F:/acc/ftp/paramter</ParmDstrbPath> -->

		<!--solaris config -->
		<BackUpLog>/home/acc/commu/log</BackUpLog>
		<FtpLocalDir>/home/acc/ftp/receive</FtpLocalDir>
		<ParmDstrbPath>/home/acc/ftp/parameter</ParmDstrbPath>			
		<BusFtpLocalDir>/home/acc/ftp/import</BusFtpLocalDir>
		<!--Socket config -->
		<Port>6001</Port>
		<ReadOneByteTimeOut>3000</ReadOneByteTimeOut>
		<ReadOneMessageTimeOut>3000</ReadOneMessageTimeOut>
		<MessageQueueThreadSleepTime>10000</MessageQueueThreadSleepTime>

		<!--取LCC的收益文件的FTP配置 -->
		<FtpUserName encrypt="true">@@Acc0000</FtpUserName>
		<FtpUserPassword encrypt="true">@@Acc0000</FtpUserPassword>
		<FtpPort>21</FtpPort>
		<FtpTimeout>900000</FtpTimeout>
		<FtpRetryWaiting>20000</FtpRetryWaiting>
		<FtpRetryTimes>45</FtpRetryTimes>

		<!--<FtpLocalDir>receive</FtpLocalDir> -->

		<!--Parameter config -->
		<ParmDstrbInterval>5000</ParmDstrbInterval>
		<ParmSynchType>'0101','0201','0202','0203','0204','0205','0301','0302','0303','0304','0305','0400','0501','0601','0602','0603','0604','0605','0606','0801','0802','0900','0901','0902','0903','0904','0905','8100','8101','9120','9220','9320','9420','9520'
		</ParmSynchType>

		<!--APP config -->
		<MessageClassPrefix>com.goldsign.commu.app.message.
		</MessageClassPrefix>
		<SendQueryWait>50</SendQueryWait>
		<MonitorRefresh>5000</MonitorRefresh>

		<!--control whether console print true :print false:not print -->
		<ConsolePrint>true</ConsolePrint>
		<ConsolePrintFrequency>1</ConsolePrintFrequency>
		<ReadWithThread>false</ReadWithThread>
		<GetMessageFrequency>16</GetMessageFrequency>
		<IsWriteEmergentTraffic>false</IsWriteEmergentTraffic>


		<StartParameterDistribute>true</StartParameterDistribute>
		<StartSocketListener>true</StartSocketListener>
		<StartConnectionPoolListener>true</StartConnectionPoolListener>

		<!--客流消息最大滞留时间 -1:不限制 -->
		<TrafficDelayMaxDay>-1</TrafficDelayMaxDay>
		<!--杀死线程,等候资源释放最大的次数,每次1秒 -->
		<ThreadReleaseResourceWaitCount>5</ThreadReleaseResourceWaitCount>
		<!-- 运营资料管理系统的ftp配置 -->
		<OP_URL>10.99.1.41</OP_URL>
		<OP_PORT>21</OP_PORT>
		<OP_USERNAME encrypt="true">@@LCC0200</OP_USERNAME>
		<OP_PASSWORD encrypt="true">@@LCC0200</OP_PASSWORD>
		<!--BusICCard Center Config-->
		<BusFtpURL>10.99.1.40</BusFtpURL>
		<BusFtpPort>21</BusFtpPort>
		<BusFtpUserName encrypt="true">@@LCC0200</BusFtpUserName>
		<BusFtpPassWord encrypt="true">@@LCC0200</BusFtpPassWord>
		
		
	</Common>



	<!--if file is in ftp root path,no need to define here -->
	<FtpPaths>
		<FtpPath id="TRX" value="transaction" />
		<FtpPath id="PRO" value="revenue" />
		<FtpPath id="AUD" value="audit" />
		<FtpPath id="REG" value="reg" />
		<FtpPath id="TST" value="ticket" />
		<FtpPath id="THD" value="ticket" />
		<FtpPath id="TBH" value="ticket" />
		<FtpPath id="TDS" value="ticket" />
	</FtpPaths>

	<Messages>
		<Message id="01" value="Message01" />
		<Message id="03" value="Message03" />
		<Message id="05" value="Message05" />
		<Message id="08" value="Message08" />
		<Message id="09" value="Message09" />
		<Message id="10" value="Message10" />
		<Message id="11" value="Message11" />
		<Message id="12" value="Message12" />
		<Message id="13" value="Message13" />
		<Message id="14" value="Message14" />
		<Message id="15" value="Message15" />
		<Message id="16" value="Message16" />
		<Message id="20" value="Message20" />
	</Messages>


	<OpConnectionPool>
		<Driver>oracle.jdbc.driver.OracleDriver</Driver>
		<URL>jdbc:oracle:thin:@10.99.1.41:1521:accdevp</URL>
		<!-- <Database></Database> -->
		<User encrypt="true">262C2F1B203D</User>
		<Password encrypt="true">262C2F1B203D</Password>
		<MaxActive>40</MaxActive>
		<MaxIdle>20</MaxIdle>
		<MaxWait>20000</MaxWait>
	</OpConnectionPool>

	<CmConnectionPool>
		<Driver>oracle.jdbc.driver.OracleDriver</Driver>
		<URL>jdbc:oracle:thin:@10.99.1.41:1521:accdevp</URL>
		<!-- <Database></Database> -->
		<User encrypt="true">262C2F1B30262A2332</User>
		<Password encrypt="true">262C2F1B30262A2332</Password>
		<MaxActive>40</MaxActive>
		<MaxIdle>20</MaxIdle>
		<MaxWait>20000</MaxWait>
	</CmConnectionPool>

	<TkConnectionPool>
		<Driver>oracle.jdbc.driver.OracleDriver</Driver>
		<URL>jdbc:oracle:thin:@10.99.1.41:1521:accdevp</URL>
		<!-- <Database></Database> -->
		<User encrypt="true">262C2F1B2722</User>
		<Password encrypt="true">262C2F1B2722</Password>
		<MaxActive>40</MaxActive>
		<MaxIdle>20</MaxIdle>
		<MaxWait>20000</MaxWait>
	</TkConnectionPool>


	<EmergentFlowConnectionPool>
		<Driver>oracle.jdbc.driver.OracleDriver</Driver>
		<URL>jdbc:oracle:thin:@10.99.1.41:1521:accdevp</URL>
		<!-- <Database></Database> -->
		<User encrypt="true">262C2F1B30262A2332</User>
		<Password encrypt="true">262C2F1B30262A2332</Password>
		<MaxActive>40</MaxActive>
		<MaxIdle>20</MaxIdle>
		<MaxWait>20000</MaxWait>
	</EmergentFlowConnectionPool>

	<CommunicationThreadPool>
		<MaxThreadNumber>12</MaxThreadNumber>
		<ThreadSleepTime>100</ThreadSleepTime>
		<ThreadPriorityAdd>0</ThreadPriorityAdd>
		<ReadThreadPriorityAdd>2</ReadThreadPriorityAdd>
		<MaxSearchNum>2</MaxSearchNum>
		<UnHanledMsgLogDir>/root/acc/commu/log</UnHanledMsgLogDir>
		<!-- <UnHanledMsgLogDir>e:/temp/commu/log</UnHanledMsgLogDir> -->
		<ThreadBufferCapacity>10000</ThreadBufferCapacity>
		<ThreadBufferIncrement>1000</ThreadBufferIncrement>
		<PriorityThreadBufferCapacity>2000</PriorityThreadBufferCapacity>
		<PriorityThreadBufferIncrement>1000</PriorityThreadBufferIncrement>
	</CommunicationThreadPool>

	<ConnectionPoolListenerThread>
		<CPListenerThreadSleepTime>1000</CPListenerThreadSleepTime>
		<TestSqlForData>select 1 from dual</TestSqlForData>
		<TestSqlForLog>select 1 from dual</TestSqlForLog>
		<TestSqlForFlow>select 1 from dual</TestSqlForFlow>
		<SqlMsghandleSleepTime>100</SqlMsghandleSleepTime>
	</ConnectionPoolListenerThread>

	<ThreadPoolMonitor>
		<!--线程池监控时间间隔 -->
		<TPMonitorThreadSleepTime>1000</TPMonitorThreadSleepTime>
		<!--消息处理允许的最大挂起数 -->
		<ThreadMsgHandUpMaxNumberAllow>15</ThreadMsgHandUpMaxNumberAllow>
		<!--消息解释类前缀 -->
		<ThreadMsgAnalyzeClassPrefix>com.goldsign.commu.app.monitor.AnalyzeMessage
		</ThreadMsgAnalyzeClassPrefix>
	</ThreadPoolMonitor>
	<!--备参数版本 -->
	<DevParamVer>
		<!--设备参数版本查询时间间隔 单位：毫秒 -->
		<DevParaVerThreadSleepTime>10000</DevParaVerThreadSleepTime>
	</DevParamVer>
	<!--参数自动下发 -->
	<ParamAutoDown>
		<!--自动下发轮询时间间隔 单位：毫秒 设置值不能小于1分钟 -->
		<ParaDownloadThreadSleepTime>80000</ParaDownloadThreadSleepTime>
	</ParamAutoDown>

</Config>