<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.goldsign.acc.frame.mapper.OperationLogMapper"> 
    <insert id="addLog" parameterType="OperationLog" > 
        insert into w_acc_st.w_OP_LOG_USER_OPERATE(water_no,operator_id,op_time,module,op_type,content) 
        values(w_acc_st.W_SEQ_W_OP_LOG_USER_OPERATE.nextval,#{operator_id},sysdate,#{module},#{op_type},#{content}) 
    </insert>
    <insert id="addLogForPrm" parameterType="OperationLogForPrm" > 
        insert into w_acc_st.w_op_log_prm_operate(water_no,operator_id,op_time,param_type_id,op_type,remark) 
        values(w_acc_st.W_SEQ_W_OP_LOG_PRM_OPERATE.nextval,#{operator_id},sysdate,#{param_type_id},#{op_type},#{remark}) 
    </insert>
    
    
    <select id="getParamTypeIdForNum"  parameterType="String" resultType="Integer">
        select  count(*) num  from w_acc_st.w_op_cod_module_prm_mapping where  module_id=#{id}
    </select>
    <select id="getParamTypeId"  parameterType="String" resultType="String">
        select  param_type_id  from w_acc_st.w_op_cod_module_prm_mapping where  module_id=#{id}
    </select>
    <select id="getButtonOperationType"  resultType="String">
        select operation_type   from w_acc_st.W_OP_COD_BTN_TYPE  where command_name=#{id}
    </select>
    
</mapper>
